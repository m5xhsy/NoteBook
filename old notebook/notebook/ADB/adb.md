```shell
./adb devices                                  ç¡®ä¿ä½ çš„æ‰‹æœºå¯ä»¥è°ƒè¯•ã€‚
./adb shell input keyevent 224                 è®©æ‰‹æœºå±å¹•ç‚¹äº®ã€‚
./adb shell input keyevent 26                  è®©æ‰‹æœºå±å¹•ç‚¹äº®ã€‚(ç›¸å½“äºæŒ‰ç”µæºé”®)
./adb shell input swipe 300 1000 300 300       å¦‚æœé”å±æ²¡æœ‰å¯†ç ï¼Œæ˜¯é€šè¿‡æ»‘åŠ¨æ‰‹åŠ¿è§£é”ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ input swipe æ¥è§£é”ã€‚
./adb install  **<packageå>**                 é€šè¿‡ç”µè„‘å‘æ‰‹æœºå®‰è£…ä¸€ä¸ª .apk çš„æ–‡ä»¶/åº”ç”¨ 
./adb shell pm list packages                   æŸ¥çœ‹æ‰‹æœºé‡Œé¢çš„åº”ç”¨åˆ—è¡¨ã€‚æˆ‘æ¥ä¸‹æ¥è¦æ‰“å¼€åº”ç”¨com.haie.demo.phone  æ‰€ä»¥æ‰¾åˆ°è¿™ä¸ªå·²å®‰è£…åº”ç”¨ã€‚
./adb shell dumpsys package com.haie.demo.phone    æŸ¥çœ‹åº”ç”¨com.haie.demo.phone è¯¦ç»†ä¿¡æ¯ã€‚åœ¨Activity Resolver Tableä¸­æ‰¾åˆ°com.haie.demo.phone/com.haie.demo.ui.MainActivity
./adb shell am start -n com.haie.demo.phone/com.haie.demo.ui.MainActivity       è°ƒèµ·åº”ç”¨com.haie.demo.phoneçš„Activityï¼Œä¹Ÿå°±æ˜¯æ‰“å¼€åº”ç”¨com.haie.demo.phoneï¼Œè¿›å…¥åº”ç”¨ä¸»ç•Œé¢ã€‚

```

adbå¯ä»¥åŒæ—¶è¿æ¥å¤šå°è®¾å¤‡ï¼Œæƒ³è¦æŸ¥çœ‹å½“å‰adbè¿æ¥çš„è®¾å¤‡æœ‰å“ªäº›å¯ä»¥ä½¿ç”¨ğŸ‘‡è¿™ä¸ªå‘½ä»¤ao

> $ adb devices

ä»¥ä¸‹ç¤ºä¾‹å‘æ‚¨å±•ç¤ºäº† devices å‘½ä»¤åŠå…¶è¾“å‡ºï¼š

![img](https:////upload-images.jianshu.io/upload_images/9099771-292cf71ab150e901.png?imageMogr2/auto-orient/strip|imageView2/2/w/956/format/webp)

adbå½“å‰è¿æ¥äº†3å°è®¾å¤‡

**é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œåœ¨åŒæ—¶è¿æ¥åˆ°å¤šå°è®¾å¤‡çš„æƒ…å†µä¸‹ï¼Œæ€ä¹ˆå°†å‘½ä»¤å‘é€è‡³ç‰¹å®šè®¾å¤‡å‘¢ï¼Ÿ**

ä¸Šå›¾ä¸­çš„emulator-5554ã€emulator-5556ã€emulator-5558è¢«ç§°ä¸ºåºåˆ—å·ï¼Œæ˜¯ç”¨æ¥åŒºåˆ†è®¾å¤‡ç”¨çš„ã€‚å¦‚æœå¤šä¸ªæ¨¡æ‹Ÿå™¨/è®¾å¤‡å®ä¾‹æ­£åœ¨è¿è¡Œï¼Œåœ¨å‘å‡º adb å‘½ä»¤æ—¶å¿…é¡»æŒ‡å®šä¸€ä¸ªç›®æ ‡å®ä¾‹ã€‚ä¸ºæ­¤ï¼Œè¯·åœ¨å‘½ä»¤ä¸­ä½¿ç”¨ **-s** é€‰é¡¹ã€‚

æ¯”å¦‚ï¼šåœ¨ emulator-5556 è®¾å¤‡ä¸Šå®‰è£…å¾®ä¿¡

> adb **-s** emulator-5556 install weixin703android1400.apk

**æ³¨ï¼š**weixin703android1400.apk ä¸ºç”µè„‘æœ¬åœ°apkè·¯å¾„

**å®‰è£…åº”ç”¨**

åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­æˆ‘ä»¬é€šè¿‡adbæ‰§è¡Œäº†å®‰è£…å¾®ä¿¡çš„å‘½ä»¤ï¼Œæ‰€ä»¥adbæ˜¯æ”¯æŒå®‰è£…åº”ç”¨åˆ°è®¾å¤‡çš„ï¼Œä¸‹é¢æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹å®‰è£…åº”ç”¨çš„å‘½ä»¤ï¼Œå…¶ä¸­path_to_apkæ˜¯ç”µè„‘æœ¬åœ°çš„apkè·¯å¾„ã€‚

> adb install -r **path_to_apk** 

**æ³¨ï¼š** -r è¡¨ç¤ºæ›¿æ¢æ‰åŸæ¥çš„apkï¼›å¦‚æœæ²¡æœ‰-rï¼Œä¼šæç¤ºapkå·²ç»å­˜åœ¨

**å¸è½½åº”ç”¨**

æ—¢ç„¶ä¸Šé¢è¯´åˆ°å¯ä»¥å®‰è£…åº”ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬èƒ½ä¸èƒ½å¸è½½åº”ç”¨å‘¢ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œåªä¸è¿‡å¸è½½åº”ç”¨ä¹‹å‰éœ€è¦çŸ¥é“åº”ç”¨çš„å®‰è£…åŒ…åã€‚

> adb uninstall com.tencent.mm // com.tencent.mm å°±æ˜¯å¾®ä¿¡çš„å®‰è£…åŒ…å

é‚£æ€ä¹ˆæ‰èƒ½çŸ¥é“åº”ç”¨çš„å®‰è£…åŒ…åå‘¢ï¼Ÿè¿™ä¸ªä¹‹åè®²è§£

**æˆªå›¾å’Œå½•å±**

adbæ˜¯æ”¯æŒæˆªå›¾å’Œå½•å±çš„ï¼Œæ–¹ä¾¿è®°å½•æˆ‘ä»¬çš„æ“ä½œã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹å…·ä½“çš„å‘½ä»¤ï¼š

>  adb shell screencap /sdcard/screen.png
>
> adb shell  åœ¨è®¾å¤‡è¿è¡Œè„šæœ¬å‘½ä»¤
>
> screencap  æˆªå±å‘½ä»¤
>
> /sdcard/screen.png æˆªå›¾ä¿å­˜è·¯å¾„

> adb shell screenrecord --size 1920x480 --time-limit 100 /sdcard/demo.mp4
>
> adb shell  åœ¨è®¾å¤‡è¿è¡Œè„šæœ¬å‘½ä»¤
>
> screenrecord  å½•åˆ¶è§†é¢‘å‘½ä»¤
>
> --size **1920x480**  widthxheight è®¾ç½®è§†é¢‘å¤§å°
>
> --time-limit **100**   è®¾ç½®æœ€å¤§å½•åˆ¶æ—¶é•¿ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚é»˜è®¤å€¼å’Œæœ€å¤§å€¼å‡ä¸º 180ï¼ˆ3 åˆ†é’Ÿï¼‰ã€‚
>
> æŒ‰ Control + C åœæ­¢å±å¹•å½•åˆ¶

screenrecord é€‰é¡¹è¯´æ˜

--helpæ˜¾ç¤ºå‘½ä»¤è¯­æ³•å’Œé€‰é¡¹

--size widthxheightè®¾ç½®è§†é¢‘å¤§å°ï¼š1280x720ã€‚é»˜è®¤å€¼æ˜¯è®¾å¤‡çš„åŸç”Ÿæ˜¾ç¤ºåˆ†è¾¨ç‡ï¼ˆå¦‚æœæ”¯æŒï¼‰ï¼Œå¦‚æœä¸æ”¯æŒï¼Œåˆ™ä½¿ç”¨ 1280x720ã€‚ä¸ºå®ç°æœ€ä½³ç»“æœï¼Œè¯·ä½¿ç”¨è®¾å¤‡çš„ Advanced Video Coding (AVC) ç¼–ç å™¨æ”¯æŒçš„å¤§å°ã€‚

--bit-rate rateè®¾ç½®è§†é¢‘çš„è§†é¢‘æ¯”ç‰¹ç‡ï¼ˆä»¥å…†æ¯”ç‰¹æ¯ç§’ä¸ºå•ä½ï¼‰ã€‚é»˜è®¤å€¼ä¸º 4Mbpsã€‚æ‚¨å¯ä»¥å¢åŠ æ¯”ç‰¹ç‡ä»¥æå‡è§†é¢‘è´¨é‡ï¼Œä½†è¿™ä¹ˆåšä¼šå¯¼è‡´å½±ç‰‡æ–‡ä»¶å˜å¾—æ›´å¤§ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†å½•åˆ¶æ¯”ç‰¹ç‡è®¾ä¸º 6Mbpsï¼šscreenrecord --bit-rate 6000000 /sdcard/demo.mp4

--time-limit timeè®¾ç½®æœ€å¤§å½•åˆ¶æ—¶é•¿ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚é»˜è®¤å€¼å’Œæœ€å¤§å€¼å‡ä¸º 180ï¼ˆ3 åˆ†é’Ÿï¼‰ã€‚

--rotateå°†è¾“å‡ºæ—‹è½¬ 90 åº¦ã€‚æ­¤åŠŸèƒ½æ˜¯å®éªŒæ€§çš„ã€‚

--verboseæ˜¾ç¤ºå‘½ä»¤è¡Œå±å¹•ä¸Šçš„æ—¥å¿—ä¿¡æ¯ã€‚å¦‚æœæ‚¨ä¸è®¾ç½®æ­¤é€‰é¡¹ï¼Œåˆ™è¿è¡Œæ—¶æ­¤å®ç”¨ç¨‹åºä¸ä¼šæ˜¾ç¤ºä»»ä½•ä¿¡æ¯ã€‚

**å°†æ–‡ä»¶å¤åˆ¶åˆ°è®¾å¤‡/ä»è®¾å¤‡å¤åˆ¶æ–‡ä»¶**

ä¸Šé¢æˆ‘ä»¬æ—¢ç„¶å·²ç»æˆªå›¾å’Œå½•åˆ¶äº†è§†é¢‘ï¼Œé‚£æ€ä¹ˆæŠŠä»–ä»¬å‘é€åˆ°è‡ªå·±çš„ç”µè„‘ä¸Šå‘¢ï¼Œç”¨è“ç‰™ï¼Ÿç”¨å¾®ä¿¡ï¼Ÿå…¶å®ï¼Œadbå°±å¯ä»¥è½»æ¾æå®šã€‚

1ã€è¦*ä»*æ¨¡æ‹Ÿå™¨æˆ–è®¾å¤‡å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•

> adb pull remote local

2ã€è¦å°†æ–‡ä»¶æ–‡ä»¶æˆ–ç›®å½•ï¼ˆåŠå…¶å­ç›®å½•ï¼‰å¤åˆ¶*åˆ°*æ¨¡æ‹Ÿå™¨æˆ–è®¾å¤‡

> adb push local remote

**æ³¨**ï¼šlocal å’Œ remote æŒ‡çš„æ˜¯å¼€å‘è®¡ç®—æœºï¼ˆæœ¬åœ°ï¼‰å’Œæ¨¡æ‹Ÿå™¨/è®¾å¤‡å®ä¾‹ï¼ˆè¿œç¨‹ï¼‰ä¸Šç›®æ ‡æ–‡ä»¶/ç›®å½•çš„è·¯å¾„

ä¸¾ä¸ªğŸŒ°ï¼ŒæŠŠåˆšæ‰æˆªå±çš„å›¾ç‰‡å‘é€åˆ°æˆ‘çš„ç”µè„‘æ¡Œé¢

> adb pull /sdcard/screen.png ~/Desktop



ä½œè€…ï¼šæ— æ•Œè€å¤«å­
é“¾æ¥ï¼šhttps://www.jianshu.com/p/88dcc48d2760
æ¥æºï¼šç®€ä¹¦
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚